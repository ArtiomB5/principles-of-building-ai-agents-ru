# 3  
## НАПИСАНИЕ ЭФФЕКТИВНЫХ ПРОМПТОВ

Одним из фундаментальных навыков в инженерии ИИ является написание хороших промптов.  
LLM будут следовать инструкциям, если вы знаете, как их правильно задать. Вот несколько советов и приемов, которые помогут:

### **Давайте LLM больше примеров**

Существует три основные техники промптинга:  
- **Zero-shot (Нулевой пример):** Подход «YOLO». Задайте вопрос и надейтесь на лучшее.  
- **Single-shot (Один пример):** Задайте вопрос, затем предоставьте один пример (с входными и выходными данными) для направления модели.  
- **Few-shot (Несколько примеров):** Дайте несколько примеров для более точного контроля над выводом.  

Больше примеров = больше рекомендаций модели, как выполнить работу, но это также отнимает больше времени.

### **Подход «затравки для кристаллизации»**

Если вы не знаете, с чего начать, вы можете попросить модель сгенерировать промпт для вас. Например: *«Сгенерируй промпт для запроса изображения собаки, играющей с китом»*. Это дает вам надежную первую версию для доработки. Вы также можете попросить модель предложить, что может улучшить этот промпт.  
Обычно следует спрашивать ту же модель, которую вы будете использовать для промптинга: Claude лучше всего генерирует промпты для Claude, gpt-4o для gpt-4o и т.д.  
Мы фактически встроили систему управления промптами (CMS) в локальную среду разработки Mastra по этой причине.

### **Используйте системный промпт**

При доступе к моделям через API обычно есть возможность установить системный промпт, например, задать модели характеристики, которые вы хотите, чтобы она имела. Это будет дополнением к конкретному «пользовательскому промпту», который передается.  
Забавный пример — попросить модель ответить на один и тот же вопрос как разные персонажи, например, как Стив Джобс против Билла Гейтса, или как Гарри Поттер против Драко Малфоя.  
Это хорошо помогает формировать тон, которым отвечает агент или помощник, но обычно не повышает точность.

### **Нестандартные трюки с форматированием**

ИИ-модели могут быть чувствительны к форматированию — используйте это в своих интересах:  
- **ЗАГЛАВНЫЕ БУКВЫ** могут добавлять вес определенным словам.  
- **XML-подобная структура** может помочь моделям точнее следовать инструкциям.  
- **Claude и GPT-4** лучше реагируют на структурированные промпты (например, задача, контекст, ограничения).  

Экспериментируйте и корректируйте — небольшие изменения в структуре могут иметь огромное значение! Вы можете измерять результаты с помощью оценок (об этом позже).

### **Пример: отличный промпт**

Если вы думаете, что ваши промпты детализированы, ознакомьтесь с некоторыми промптами, используемыми в продакшене. Они, как правило, очень подробные. Вот пример (примерно одной трети) работающего промпта для генерации кода (используемого в инструменте под названием [Bolt.new](https://bolt.new).)

> Вы — Bolt, экспертный AI-ассистент и исключительный старший разработчик программного обеспечения с обширными знаниями в множестве языков программирования, фреймворков и лучших практик.  
>  
> **Системные ограничения**: Вы работаете в среде под названием WebContainer — Node.js рантаймом в браузере, который в некоторой степени эмулирует Linux-систему. Однако он работает в браузере и не запускает полноценную Linux-систему, а также не зависит от облачной VM для выполнения кода. Весь код выполняется в браузере. Он поставляется с оболочкой, которая эмулирует zsh. Контейнер не может запускать нативные бинарные файлы, поскольку они не могут быть выполнены в браузере. Это означает, что он может выполнять только код, нативный для браузера, включая JS, WebAssembly и т.д.  
>  
> Оболочка включает бинарные файлы \`python\` и \`python3\`, но они **ОГРАНИЧЕНЫ ТОЛЬКО СТАНДАРТНОЙ БИБЛИОТЕКОЙ PYTHON**. Это означает:  
>  
> - **НЕТ поддержки \`pip\`**! Если вы попытаетесь использовать \`pip\`, вы должны явно указать, что он недоступен.  
> - **КРИТИЧЕСКИ ВАЖНО**: Сторонние библиотеки не могут быть установлены или импортированы.  
> - Даже некоторые модули стандартной библиотеки, требующие дополнительных системных зависимостей (например, \`curses\`), недоступны.  
> - Можно использовать только модули из основной стандартной библиотеки Python. Кроме того, нет \`g++\` или любого компилятора C/C++. WebContainer **НЕ МОЖЕТ** запускать нативные бинарные файлы или компилировать код C/C++!  
>  
> Помните об этих ограничениях при предложении решений на Python или C++ и явно упоминайте эти ограничения, если они relevant к текущей задаче.  
>  
> WebContainer имеет возможность запускать веб-сервер, но для этого требуется использовать npm-пакет (например, Vite, server, serve, http-server) или использовать Node.js API для реализации веб-сервера.