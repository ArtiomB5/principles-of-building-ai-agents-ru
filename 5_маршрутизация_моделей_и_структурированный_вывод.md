# 5  
## МАРШРУТИЗАЦИЯ МОДЕЛЕЙ И СТРУКТУРИРОВАННЫЙ ВЫВОД

Полезно иметь возможность быстро тестировать и экспериментировать с разными моделями без необходимости изучать несколько SDK провайдеров. Это известно как **маршрутизация моделей**.

Вот пример на JavaScript с библиотекой AI SDK:

```javascript
import { openai } from '@ai-sdk/openai';
import { Agent } from '@mastra/core/agent';

const agent = new Agent({
    name: 'weather-agent',
    instructions: 'Instructions for the agent...',
    model: openai('gpt-4-turbo'), // Model comes directly from AI
});

// Use the agent
const result = await agent.generate('What is the weather like?');
```

### **Структурированный вывод**

Когда вы используете LLM как часть приложения, часто требуется, чтобы они возвращали данные в формате JSON вместо неструктурированного текста. Большинство моделей поддерживают «структурированный вывод» для этого.

Вот пример запроса структурированного ответа путем предоставления схемы:

```javascript
import { z } from "zod";

const mySchema = z.object({
    definition: z.string(),
    examples: z.array(z.string()),
});

const response = await llm.generate(
    "Define machine learning and give examples.",
    {
        output: mySchema,
    },
);
console.log(response.object);
```

LLM очень мощны для обработки неструктурированного или частично структурированного текста. Подумайте о том, чтобы ввести текст резюме и извлечь список вакансий, работодателей и диапазонов дат, или ввести медицинскую карту и извлечь список симптомов.